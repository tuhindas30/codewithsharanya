{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sharanya.banerjee\\\\Documents\\\\HTML\\\\React-Online-Tutor-Application-main\\\\Online-Tutor-Application\\\\src\\\\components\\\\starRating.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst parentStyles = {\n  overflow: 'hidden',\n  position: 'relative'\n};\nconst defaultStyles = {\n  position: 'relative',\n  overflow: 'hidden',\n  cursor: 'pointer',\n  display: 'block',\n  float: 'left'\n};\n\nconst getHalfStarStyles = (color, uniqueness) => {\n  return `\n    .react-stars-${uniqueness}:before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: ${color};\n  }`;\n};\n\nclass ReactStars extends Component {\n  constructor(props) {\n    super(props); // set defaults\n\n    props = Object.assign({}, props);\n    this.state = {\n      uniqueness: (Math.random() + '').replace('.', ''),\n      value: props.value || 0,\n      stars: [],\n      halfStar: {\n        at: Math.floor(props.value),\n        hidden: props.half && props.value % 1 < 0.5\n      }\n    };\n    this.state.config = {\n      count: props.count,\n      size: props.size,\n      char: props.char,\n      // default color of inactive star\n      color1: props.color1,\n      // color of an active star\n      color2: props.color2,\n      half: props.half,\n      edit: props.edit\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      stars: this.getStars(this.state.value)\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      stars: this.getStars(props.value),\n      value: props.value,\n      halfStar: {\n        at: Math.floor(props.value),\n        hidden: this.state.config.half && props.value % 1 < 0.5\n      },\n      config: Object.assign({}, this.state.config, {\n        count: props.count,\n        size: props.size,\n        char: props.char,\n        color1: props.color1,\n        color2: props.color2,\n        half: props.half,\n        edit: props.edit\n      })\n    });\n  }\n\n  isDecimal(value) {\n    return value % 1 !== 0;\n  }\n\n  getRate() {\n    let stars;\n\n    if (this.state.config.half) {\n      stars = Math.floor(this.state.value);\n    } else {\n      stars = Math.round(this.state.value);\n    }\n\n    return stars;\n  }\n\n  getStars(activeCount) {\n    if (typeof activeCount === 'undefined') {\n      activeCount = this.getRate();\n    }\n\n    let stars = [];\n\n    for (let i = 0; i < this.state.config.count; i++) {\n      stars.push({\n        active: i <= activeCount - 1\n      });\n    }\n\n    return stars;\n  }\n\n  mouseOver(event) {\n    let {\n      config,\n      halfStar\n    } = this.state;\n    if (!config.edit) return;\n    let index = Number(event.target.getAttribute('data-index'));\n\n    if (config.half) {\n      const isAtHalf = this.moreThanHalf(event, config.size);\n      halfStar.hidden = isAtHalf;\n      if (isAtHalf) index = index + 1;\n      halfStar.at = index;\n    } else {\n      index = index + 1;\n    }\n\n    this.setState({\n      stars: this.getStars(index)\n    });\n  }\n\n  moreThanHalf(event, size) {\n    let {\n      target\n    } = event;\n    var mouseAt = event.clientX - target.getBoundingClientRect().left;\n    mouseAt = Math.round(Math.abs(mouseAt));\n    return mouseAt > size / 2;\n  }\n\n  mouseLeave() {\n    const {\n      value,\n      halfStar,\n      config\n    } = this.state;\n    if (!config.edit) return;\n\n    if (config.half) {\n      halfStar.hidden = !this.isDecimal(value);\n      halfStar.at = Math.floor(this.state.value);\n    }\n\n    this.setState({\n      stars: this.getStars()\n    });\n  }\n\n  clicked(event) {\n    const {\n      config,\n      halfStar\n    } = this.state;\n    if (!config.edit) return;\n    let index = Number(event.target.getAttribute('data-index'));\n    let value;\n\n    if (config.half) {\n      const isAtHalf = this.moreThanHalf(event, config.size);\n      halfStar.hidden = isAtHalf;\n      if (isAtHalf) index = index + 1;\n      value = isAtHalf ? index : index + .5;\n      halfStar.at = index;\n    } else {\n      value = index = index + 1;\n    }\n\n    this.setState({\n      value: value,\n      stars: this.getStars(index)\n    });\n    this.props.onChange(value);\n  }\n\n  renderHalfStarStyleElement() {\n    const {\n      config,\n      uniqueness\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: getHalfStarStyles(config.color2, uniqueness)\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this);\n  }\n\n  renderStars() {\n    const {\n      halfStar,\n      stars,\n      uniqueness,\n      config\n    } = this.state;\n    const {\n      color1,\n      color2,\n      size,\n      char,\n      half,\n      edit\n    } = config;\n    return stars.map((star, i) => {\n      let starClass = '';\n\n      if (half && !halfStar.hidden && halfStar.at === i) {\n        starClass = `react-stars-${uniqueness}`;\n      }\n\n      const style = Object.assign({}, defaultStyles, {\n        color: star.active ? color2 : color1,\n        cursor: edit ? 'pointer' : 'default',\n        fontSize: `${size}px`\n      });\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: starClass,\n        style: style,\n        \"data-index\": i,\n        \"data-forhalf\": char,\n        onMouseOver: this.mouseOver.bind(this),\n        onMouseMove: this.mouseOver.bind(this),\n        onMouseLeave: this.mouseLeave.bind(this),\n        onClick: this.clicked.bind(this),\n        children: char\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this);\n    });\n  }\n\n  render() {\n    const {\n      className\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: className,\n      style: parentStyles,\n      children: [this.state.config.half ? this.renderHalfStarStyleElement() : '', this.renderStars()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nReactStars.propTypes = {\n  className: PropTypes.string,\n  edit: PropTypes.bool,\n  half: PropTypes.bool,\n  value: PropTypes.number,\n  count: PropTypes.number,\n  char: PropTypes.string,\n  size: PropTypes.number,\n  color1: PropTypes.string,\n  color2: PropTypes.string\n};\nReactStars.defaultProps = {\n  edit: true,\n  half: true,\n  value: 0,\n  count: 5,\n  char: '★',\n  size: 15,\n  color1: 'gray',\n  color2: '#ffd700',\n  onChange: () => {}\n};\nexport default ReactStars;","map":{"version":3,"sources":["C:/Users/sharanya.banerjee/Documents/HTML/React-Online-Tutor-Application-main/Online-Tutor-Application/src/components/starRating.js"],"names":["React","Component","PropTypes","parentStyles","overflow","position","defaultStyles","cursor","display","float","getHalfStarStyles","color","uniqueness","ReactStars","constructor","props","Object","assign","state","Math","random","replace","value","stars","halfStar","at","floor","hidden","half","config","count","size","char","color1","color2","edit","componentDidMount","setState","getStars","componentWillReceiveProps","isDecimal","getRate","round","activeCount","i","push","active","mouseOver","event","index","Number","target","getAttribute","isAtHalf","moreThanHalf","mouseAt","clientX","getBoundingClientRect","left","abs","mouseLeave","clicked","onChange","renderHalfStarStyleElement","__html","renderStars","map","star","starClass","style","fontSize","bind","render","className","propTypes","string","bool","number","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst parentStyles = {\n  overflow: 'hidden',\n  position: 'relative'\n}\n\nconst defaultStyles = {\n  position: 'relative',\n  overflow: 'hidden',\n  cursor: 'pointer',\n  display: 'block',\n  float: 'left'\n}\n\nconst getHalfStarStyles = (color, uniqueness) => {\n  return `\n    .react-stars-${uniqueness}:before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: ${color};\n  }`\n}\n\nclass ReactStars extends Component {\n\n  constructor(props) {\n\n    super(props)\n\n    // set defaults\n\n    props = Object.assign({}, props)\n\n    this.state = {\n      uniqueness: (Math.random() + '').replace('.', ''),\n      value: props.value || 0,\n      stars: [],\n      halfStar: {\n        at: Math.floor(props.value),\n        hidden: props.half && props.value % 1 < 0.5\n      }\n    }\n\n    this.state.config = {\n      count: props.count,\n      size: props.size,\n      char: props.char,\n      // default color of inactive star\n      color1: props.color1,\n      // color of an active star\n      color2: props.color2,\n      half: props.half,\n      edit: props.edit,\n    }\n\n  }\n\n  componentDidMount() {\n    this.setState({\n      stars: this.getStars(this.state.value)\n    })\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      stars: this.getStars(props.value),\n      value: props.value,\n      halfStar: {\n        at: Math.floor(props.value),\n        hidden: this.state.config.half && props.value % 1 < 0.5\n      },\n      config: Object.assign({}, this.state.config, {\n        count: props.count,\n        size: props.size,\n        char: props.char,\n        color1: props.color1,\n        color2: props.color2,\n        half: props.half,\n        edit: props.edit\n      })\n    })\n  }\n\n  isDecimal(value) {\n    return value % 1 !== 0\n  }\n\n  getRate() {\n    let stars\n    if (this.state.config.half) {\n      stars = Math.floor(this.state.value)\n    } else {\n      stars = Math.round(this.state.value)\n    }\n    return stars\n  }\n\n  getStars(activeCount) {\n    if (typeof activeCount === 'undefined') {\n      activeCount = this.getRate()\n    }\n    let stars = []\n    for (let i = 0; i < this.state.config.count; i++) {\n      stars.push({\n        active: i <= activeCount - 1\n      })\n    }\n    return stars\n  }\n\n  mouseOver(event) {\n    let { config, halfStar } = this.state\n    if (!config.edit) return;\n    let index = Number(event.target.getAttribute('data-index'))\n    if (config.half) {\n      const isAtHalf = this.moreThanHalf(event, config.size)\n      halfStar.hidden = isAtHalf\n      if (isAtHalf) index = index + 1\n      halfStar.at = index\n    } else {\n      index = index + 1\n    }\n    this.setState({\n      stars: this.getStars(index)\n    })\n  }\n\n  moreThanHalf(event, size) {\n    let { target } = event\n    var mouseAt = event.clientX - target.getBoundingClientRect().left\n    mouseAt = Math.round(Math.abs(mouseAt))\n    return mouseAt > size / 2\n  }\n\n  mouseLeave() {\n    const { value, halfStar, config } = this.state\n    if (!config.edit) return\n    if (config.half) {\n      halfStar.hidden = !this.isDecimal(value)\n      halfStar.at = Math.floor(this.state.value)\n    }\n    this.setState({\n      stars: this.getStars()\n    })\n  }\n\n  clicked(event) {\n    const { config, halfStar } = this.state\n    if (!config.edit) return\n    let index = Number(event.target.getAttribute('data-index'))\n    let value\n    if (config.half) {\n      const isAtHalf = this.moreThanHalf(event, config.size)\n      halfStar.hidden = isAtHalf\n      if (isAtHalf) index = index + 1\n      value = isAtHalf ? index : index + .5\n      halfStar.at = index\n    } else {\n      value = index = index + 1\n    }\n    this.setState({\n      value: value,\n      stars: this.getStars(index)\n    })\n    this.props.onChange(value)\n  }\n\n  renderHalfStarStyleElement() {\n    const { config, uniqueness } = this.state\n    return (\n      <style dangerouslySetInnerHTML={{\n        __html: getHalfStarStyles(config.color2, uniqueness)\n      }}></style>\n    )\n  }\n\n  renderStars() {\n    const { halfStar, stars, uniqueness, config } = this.state\n    const { color1, color2, size, char, half, edit } = config\n    return stars.map((star, i) => {\n      let starClass = ''\n      if (half && !halfStar.hidden && halfStar.at === i) {\n        starClass = `react-stars-${uniqueness}`\n      }\n      const style = Object.assign({}, defaultStyles, {\n        color: star.active ? color2 : color1,\n        cursor: edit ? 'pointer' : 'default',\n        fontSize: `${size}px`\n      })\n      return (\n        <span\n          className={starClass}\n          style={style}\n          key={i}\n          data-index={i}\n          data-forhalf={char}\n          onMouseOver={this.mouseOver.bind(this)}\n          onMouseMove={this.mouseOver.bind(this)}\n          onMouseLeave={this.mouseLeave.bind(this)}\n          onClick={this.clicked.bind(this)}>\n          {char}\n        </span>\n      )\n    })\n  }\n\n  render() {\n\n    const {\n      className\n    } = this.props\n\n    return (\n      <div className={className} style={parentStyles}>\n        {this.state.config.half ?\n          this.renderHalfStarStyleElement() : ''}\n        {this.renderStars()}\n      </div>\n    )\n  }\n\n}\n\nReactStars.propTypes = {\n  className: PropTypes.string,\n  edit: PropTypes.bool,\n  half: PropTypes.bool,\n  value: PropTypes.number,\n  count: PropTypes.number,\n  char: PropTypes.string,\n  size: PropTypes.number,\n  color1: PropTypes.string,\n  color2: PropTypes.string\n}\n\nReactStars.defaultProps = {\n  edit: true,\n  half: true,\n  value: 0,\n  count: 5,\n  char: '★',\n  size: 15,\n  color1: 'gray',\n  color2: '#ffd700',\n\n  onChange: () => { }\n};\n\nexport default ReactStars"]},"metadata":{},"sourceType":"module"}